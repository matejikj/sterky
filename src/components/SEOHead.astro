---
import { buildSeoMeta } from '../lib/seo';

interface Props {
  title: string;
  description: string;
  pathname?: string;
  canonicalPath?: string;
  site?: URL | string | null;
  image?: {
    url: string;
    alt?: string;
  } | null;
  type?: 'website' | 'article';
  noindex?: boolean;
}

const seo = buildSeoMeta(Astro.props);
---

<title>{seo.title}</title>
<meta name="description" content={seo.description} />
<link rel="canonical" href={seo.canonical} />

{seo.noindex && <meta name="robots" content="noindex, nofollow" />}

<meta property="og:title" content={seo.og.title} />
<meta property="og:description" content={seo.og.description} />
<meta property="og:type" content={seo.og.type} />
<meta property="og:url" content={seo.og.url} />
<meta property="og:site_name" content={seo.og.siteName} />
<meta property="og:locale" content={seo.og.locale} />
{seo.og.image && <meta property="og:image" content={seo.og.image} />}
{seo.og.imageAlt && <meta property="og:image:alt" content={seo.og.imageAlt} />}

<meta name="twitter:card" content={seo.twitter.card} />
<meta name="twitter:title" content={seo.twitter.title} />
<meta name="twitter:description" content={seo.twitter.description} />
{seo.twitter.image && <meta name="twitter:image" content={seo.twitter.image} />}

